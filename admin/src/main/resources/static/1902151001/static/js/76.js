webpackJsonp([76],{tbuq:function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){return{visible:!1,dataForm:{orderId:0,state:"",createTime:"",addressId:"",deliveryTime:"",methodPayment:"",paymentTime:"",orderNote:"",totalOrderAmount:"",orderStatus:"",orderType:"",storeFullAmount:"",distributionAmount:"",discountAmount:"",orderNo:"",memberId:"",storeId:"",actualOrderAmount:"",returnReason:""},dataRule:{}}},methods:{init:function(r){var e=this;this.dataForm.orderId=r||0,this.visible=!0,this.$nextTick(function(){e.$refs.dataForm.resetFields(),e.dataForm.orderId&&e.$http({url:e.$http.adornUrl("/cellar/cellarorderdb/info/"+e.dataForm.orderId),method:"get",params:e.$http.adornParams()}).then(function(r){var t=r.data;t&&0===t.code&&(e.dataForm.state=t.cellarOrderDb.state,e.dataForm.createTime=t.cellarOrderDb.createTime,e.dataForm.addressId=t.cellarOrderDb.addressId,e.dataForm.deliveryTime=t.cellarOrderDb.deliveryTime,e.dataForm.methodPayment=t.cellarOrderDb.methodPayment,e.dataForm.paymentTime=t.cellarOrderDb.paymentTime,e.dataForm.orderNote=t.cellarOrderDb.orderNote,e.dataForm.totalOrderAmount=t.cellarOrderDb.totalOrderAmount,e.dataForm.orderStatus=t.cellarOrderDb.orderStatus,e.dataForm.orderType=t.cellarOrderDb.orderType,e.dataForm.storeFullAmount=t.cellarOrderDb.storeFullAmount,e.dataForm.distributionAmount=t.cellarOrderDb.distributionAmount,e.dataForm.discountAmount=t.cellarOrderDb.discountAmount,e.dataForm.orderNo=t.cellarOrderDb.orderNo,e.dataForm.memberId=t.cellarOrderDb.memberId,e.dataForm.storeId=t.cellarOrderDb.storeId,e.dataForm.actualOrderAmount=t.cellarOrderDb.actualOrderAmount,e.dataForm.returnReason=t.cellarOrderDb.returnReason)})})},dataFormSubmit:function(r){var e=this;this.$refs.dataForm.validate(function(t){t&&e.$http({url:e.$http.adornUrl("/cellar/cellarorderdb/update"),method:"post",data:e.$http.adornData({orderId:e.dataForm.orderId||void 0,orderStatus:r})}).then(function(r){var t=r.data;t&&0===t.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.visible=!1,e.$emit("refreshDataList")}}):e.$message.error(t.msg)})})}}},o={render:function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("el-dialog",{attrs:{title:(r.dataForm.orderId,"售后"),"close-on-click-modal":!1,visible:r.visible},on:{"update:visible":function(e){r.visible=e}}},[t("el-form",{ref:"dataForm",attrs:{model:r.dataForm,rules:r.dataRule,"label-width":"80px"},nativeOn:{keyup:function(e){if(!("button"in e)&&r._k(e.keyCode,"enter",13,e.key))return null;r.dataFormSubmit()}}},[t("el-form-item",{attrs:{label:"退货原因",prop:"actualOrderAmount"}},[t("el-input",{attrs:{placeholder:"退货原因",readonly:""},model:{value:r.dataForm.returnReason,callback:function(e){r.$set(r.dataForm,"returnReason",e)},expression:"dataForm.returnReason"}})],1)],1),r._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:function(e){r.dataFormSubmit("-3")}}},[r._v("同意")]),r._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(e){r.dataFormSubmit("-4")}}},[r._v("拒绝")])],1)],1)},staticRenderFns:[]},d=t("46Yf")(a,o,!1,null,null,null);e.default=d.exports}});